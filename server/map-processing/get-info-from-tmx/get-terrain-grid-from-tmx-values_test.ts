import { assertEquals } from "@std/assert";
import getTerrainGridFromTmxValues from "./get-terrain-grid-from-tmx-values.ts";

Deno.test("getTerrainGridFromMainLayerEncoded - Knights10", () => {
  const result = getTerrainGridFromTmxValues({
    tileConfigId: "3E",
    height: 18,
    width: 20,
    mainLayerEncoded:
      "eJx1lMFLVFEUxs97jzCLBGtW+QckaRBaqW0NMkQj0H9AR4KUrKi/oBQEEWzZNhujGNFZuosZUqioBqJNW1G0shFXtun7uN/l3l60+HHmnnfOd885994pZGZnxKnUrAHq4AAsghHwVGvv/xTFlRKzj2bWD2qgFTpjsu/w7bPiaUfBA/BIud7/CxxKexs5X2ALsO+lw9pOS68Rxcd6B5G/HtVLvW3ofMXvn7Cvk8AJ7e9j18BDUIk0lhDXnIacFTAMnRuqrwPfTqbOliPdRq4OWq9Djc4o7y50mpkHpi2Q193SPGkrOZ0mxL8EK2ADrMPXhpkNIKYFXIOvnNM9BmqJs76Pe5FOTVojiBmHrYI9cA7rOmxRMWXFf7Bwdi3qZT5xeRPgJjiLmnZ0X+jjrIalMy6NTTCrmZwHF0A3eJa6c+TeQ+AVeGx/nw/vyCp8z1XvD82CuZfw7bv8/M57wRkN8jzBLdVAjYLuXXymrJOxC2BfOv2aw4RyWc99cAdMmZs79fy7uJq5O+XrnOM8wYDyZ8BbsCVN7jEpraK+ez3Wx7d5JQt6t6Pz87Mvap5V5bOmpdzcyJvEvaUe9e17rupceBZP1CP7Ltm/b4O9sce+zNmK3nlvVGNJZ8v3+MLCjL1GbxY02FtPzl4Eo2AvcW9nQ/fud+rqO56G/b0Ga7gcafh17G/H7yOwa+6+UfMbWE7C/j7e15Bfe8t4/vfwzl03N0fet67E6eV7+d/6D92xtrA=",
  });

  const expected = [
    [
      "Floor",
      "Floor",
      "Floor",
      "Wall",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Pillar",
      "Floor",
      "Floor",
      "Stairs",
      "Plains",
      "Plains",
      "Forest",
    ],
    [
      "Floor",
      "Chest",
      "Floor",
      "Wall",
      "Floor",
      "Pillar",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Pillar",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Stairs",
      "Road",
      "Plains",
      "Plains",
    ],
    [
      "Floor",
      "Floor",
      "Floor",
      "Wall",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Stairs",
      "Plains",
      "Road",
      "Plains",
    ],
    [
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Stairs",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
    ],
    [
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Brace",
      "Floor",
      "Brace",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Road",
      "Road",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Wall",
      "Brace",
      "Stairs",
      "Brace",
      "Wall",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Sand",
      "Plains",
      "Forest",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Road",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Road",
      "Plains",
      "Plains",
      "Plains",
    ],
    [
      "Wall",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Road",
      "Road",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Wall",
      "Wall",
    ],
    [
      "Wall",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Road",
      "Road",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Road",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Floor",
      "Floor",
    ],
    [
      "Wall",
      "Wall",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Floor",
      "Chest",
    ],
    [
      "Floor",
      "Stairs",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Hill",
      "Hill",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Floor",
      "Floor",
    ],
    [
      "Floor",
      "Floor",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Door",
    ],
    [
      "Floor",
      "Floor",
      "Wall",
      "Wall",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Stairs",
      "Floor",
      "Floor",
      "Floor",
    ],
    [
      "Floor",
      "Pillar",
      "Floor",
      "Wall",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Wall",
      "Wall",
      "Wall",
      "Wall",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
    ],
    [
      "Floor",
      "Floor",
      "Floor",
      "Wall",
      "Plains",
      "Plains",
      "Road",
      "Road",
      "Plains",
      "Wall",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Pillar",
      "Floor",
      "Floor",
      "Floor",
      "Pillar",
      "Floor",
    ],
    [
      "Pillar",
      "Floor",
      "Floor",
      "Wall",
      "Road",
      "Plains",
      "Plains",
      "Road",
      "Road",
      "Stairs",
      "Floor",
      "Floor",
      "Pillar",
      "Floor",
      "Floor",
      "Floor",
      "Pillar",
      "Floor",
      "Floor",
      "Floor",
    ],
    [
      "Floor",
      "Floor",
      "Floor",
      "Stairs",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Stairs",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
      "Floor",
    ],
  ];

  assertEquals(result, expected);
});

Deno.test("getTerrainGridFromMainLayerEncoded - Knights12", () => {
  const result = getTerrainGridFromTmxValues({
    tileConfigId: "03",
    height: 17,
    width: 15,
    mainLayerEncoded:
      "eJxdk01LlFEUx++dh/BlkYISpG4lFRyl2pS2UsFxVuFHmBF1dCN+hGmMSEL7CukYgq8Lv4JBoBmUfQMXiePGkmjh73D+wzy4+HGfe8495/zPufeZDiE8gWnYhrNMCJuss7As32vYTULYg32o6twa6w4MwyKMQS/+POtbKMl+gu0UvsEb9p9Uq6LvCdlPYSGVz2pc4avBNXzF1hHd15a4/4zvSWz56PsHpi/jWqyPdfgOLfhfQVH2caufuP2K7xWDuGPW5uh1DoLnr3LuVnrKOmv2A+UxLf+VP83H4OtI9P76ONcPA3AhXef4jmKjRhfffxVn+z9QsB7x52Aqaei4SdXqhvPg60t4BDfSNgfzUEp8Lqv4/sVGjceq/0v1fsILbBvq8xA62T+MPs8jxdr5Uem1PD+0Nx1F1bZZXSiHzWsQ/7OUbsvRoxjbP4/+huyN1d/RJNRgRndQS+V5Cn2QjT4Ti2mHXPD3OaT5WR/vo99X+d5dVKX1nd78Z9iCrOxF9fBFd5++i4rek9XZQdsH2M14zg39D/UZWnz6Lupa63HN9h6hNXGNY+rXNOfQPqE3mVd/TaY104g3nVa7IN0FafgNl5rhkv5p+//uAB6ufEQ=",
  });

  const expected = [
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Castle Wall",
      "Castle Wall",
      "Castle Wall",
      "Plains",
      "Forest",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "House",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Castle Wall",
      "Castle Wall",
      "Castle Wall",
      "Plains",
      "Plains",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Vendor",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Castle Wall",
      "Gate",
      "Castle Wall",
      "Plains",
      "Plains",
    ],
    [
      "Plains",
      "Forest",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Cliff",
      "Cliff",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Sand",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Armory",
      "Plains",
      "Plains",
      "Plains",
      "Cliff",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Fort",
      "Sand",
    ],
    [
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Cliff",
      "Sand",
      "Sand",
      "Sand",
      "Sand",
      "Plains",
      "Sand",
      "Sea",
    ],
    [
      "Plains",
      "Village Wall",
      "Village Wall",
      "Village Wall",
      "Plains",
      "Plains",
      "Cliff",
      "Plains",
      "Fort",
      "Sand",
      "Sea",
      "Sand",
      "Sand",
      "Sand",
      "Sea",
    ],
    [
      "Plains",
      "Village Wall",
      "Village Wall",
      "Village Wall",
      "Forest",
      "Plains",
      "Cliff",
      "Sand",
      "Sand",
      "Sea",
      "Sand",
      "Sea",
      "Sea",
      "Sea",
      "Sea",
    ],
    [
      "Forest",
      "Village Wall",
      "Village",
      "Village Wall",
      "Plains",
      "Plains",
      "Cliff",
      "Sand",
      "Sand",
      "Sea",
      "Fort",
      "Sand",
      "Sea",
      "Sea",
      "Sea",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Sand",
      "Sand",
      "Sea",
      "Sand",
      "Sand",
      "Sea",
      "Sea",
      "Sand",
    ],
    [
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Sand",
      "Sand",
      "Sand",
      "Sea",
      "Sand",
      "Sand",
      "Plains",
    ],
    [
      "House",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Village Wall",
      "Village Wall",
      "Village Wall",
      "Plains",
      "Forest",
    ],
    [
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Village Wall",
      "Village Wall",
      "Village Wall",
      "Plains",
      "Plains",
    ],
    [
      "Plains",
      "Hill",
      "Hill",
      "Hill",
      "Plains",
      "Plains",
      "House",
      "Plains",
      "Plains",
      "Plains",
      "Village Wall",
      "Village",
      "Village Wall",
      "Plains",
      "Plains",
    ],
    [
      "Hill",
      "Hill",
      "Peak",
      "Peak",
      "Plains",
      "Plains",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
    ],
    [
      "Peak",
      "Hill",
      "Hill",
      "Plains",
      "Hill",
      "Plains",
      "Forest",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
      "Plains",
    ],
  ];

  assertEquals(result, expected);
});

